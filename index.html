<!DOCTYPE html>
<html lang="en" ng-app="bmd">
<head>
	<title>Welcome to FreeBMD!</title>
	<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.1/css/bootstrap.css">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="css/style.css">
	<script type="text/javascript" src="js/jquery-1.11.0.min.js"></script>
	<script type="text/javascript" src="js/math.min.js"></script> <!-- Import Math.js library - mathjs.org -->
	<script type="text/javascript" src="js/lib.js"></script> <!-- Main library for FreeBMD -->
	<script type="text/javascript" src="components/jq-console/jqconsole.min.js"></script><!-- JQ Console for the console window -->
	<script src="components/codemirror/codemirror.js"></script>
	<script src="components/codemirror/octave/octave.js"></script>
	<link rel="stylesheet" href="components/codemirror/codemirror.css">
	<link rel="stylesheet" href="components/codemirror/mdn-like.css"><!-- CodeMirror for Editor -->
</head>
<body>
	<nav class="navbar navbar-default" role="navigation">
	  <div class="container-fluid">
	    <!-- Brand and toggle get grouped for better mobile display -->
	    <div class="navbar-header">
	      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
	        <span class="sr-only">Toggle navigation</span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	      </button>
	      <a class="navbar-brand" href="#">FreeBMD</a>
	    </div>

	    <!-- Collect the nav links, forms, and other content for toggling -->
	    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
	      <ul class="nav navbar-nav">
	      	<li><a href="#">New</a></li>
	        <li><a href="#">Save</a></li>
	        <li><a href="#">Fork</a></li>
	      </ul>
	    </div><!-- /.navbar-collapse -->
	  </div><!-- /.container-fluid -->
	</nav>
	
	<div class="row">
		<div class="col-md-2">
			<h3>Welcome to FreeBMD</h3>
			<p>Created by Grantland Hall and RJ Sheperd at Big Hack 2014.</p>
		</div>
		<div class="col-md-10">
			<div id="editor"></div>
			<div id="console"></div>
		</div>
	</div>
		
	</div>

<script type="text/javascript">
    //$('#console').jqconsole('welcomeString', 'promptLabel', 'continueLabel');

    $(function () {
    	window.onbeforeunload = confirmExit;
	    function confirmExit() {
	        return "You have about to stop doing SCIENCE. Are you sure you want to leave?";
	    }
    });

    $(function () {
        var jqconsole = $('#console').jqconsole('Hi\n', '>>>');
        var startPrompt = function () {
          // Start the prompt with history enabled.
          jqconsole.Prompt(true, function (input) {
            // Output input with the class jqconsole-output.
            jqconsole.Write(exec_statement(input) + '\n', 'jqconsole-output');
            // Restart the prompt.
            startPrompt();
          });
        };
        startPrompt();
    	var myCodeMirror = CodeMirror(
    		document.getElementById("editor"),
    		{
    			lineNumbers: true,
    			matchBrackets: true,
	    		value: "function y = f(x) \n y = x^2; \n end",
	    		mode: "octave",
	    		theme: "mdn-like"
    		});
      });

	$("#input").submit(function(e){
	    e.preventDefault();
	});

	$('#button').click(function(e) {
		e.preventDefault();

		// Output using MathJS
		$('#output').append(math.eval($('#tester').val()) + '<br/>');

		// Parse the string
		var input = bmd.parse($('tester').val());		

	});
</script>

</body>
</html>